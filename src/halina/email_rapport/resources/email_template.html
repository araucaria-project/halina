<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Night Report</title>
    <style>
        .body {
            width: 100% !important;
            min-width: 100%;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            margin: 0;
            Margin: 0;
            padding: 0;
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;}

        .center {
            text-align: center;}

        .float-center,
        .text-center {
            margin: 0 auto;
            Margin: 0 auto;
            float: none;
            text-align: center; }

        .table-spacer {
            width: 100%; }
        .table-spacer-td {
            mso-line-height-rule: exactly; }

        .table-container {
            background: #fefefe;
            width: 720px;
            margin: 0 auto;
            Margin: 0 auto;
            text-align: inherit;
            border-radius: 0.8rem; }

        .table-row {
            padding: 0;
            width: 100%;
            position: relative;
            display: table;}

        .expander {
            visibility: hidden;
            width: 0;
            padding: 0 !important; }

        h1 {
          font-size: 34px; }

        h2 {
            font-size: 30px; }

        h3 {
            font-size: 28px; }

        h4 {
            font-size: 24px; }

        h5 {
              font-size: 20px; }

        h6 {
            font-size: 18px; }

        p,
        td,
        th {
            font-size: 16px;
            line-height: 1.3; }

        p {
            margin-bottom: 10px;
            Margin-bottom: 10px; }

        .footer-clause {
            font-size: 10px;
            color: #7a7a7a;
            }

        h1, h2, h3, h4, h5, h6, p, th{
            font-family: Helvetica, Arial, sans-serif;
            font-weight: normal;}

        .table-data  {
            max-width: 48rem;
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 1rem auto 2rem;
            border-radius: 0.8rem;
            overflow: hidden;
            table-layout: fixed;}

        .table-data, .th-data {
            border: 1px solid #bdbdbd;
            font-size: 14px;}
        .td-data {
            border: 1px solid #bdbdbd;
            font-size: 12px;}

        .th-data-small {
        font-size: 12px;}

        .th-data, .td-data {
            padding: 4px;
            text-align: center;}

        .th-data {
            background-color: #190a5c;
            color: #f0f0f0;}

        .th-data-telescope {
            background-color: #a8a8ad;
            color: #f0f0f0;}

        .tr-data:hover {
            background-color: #a4bac793;}

        .menu-item {
            padding-left: 10px;}

    </style>
</head>
<body>

    <table class="body" style=" background: #f3f3f3; height: 100%; width: 100%;">
        <tbody>
            <tr>
                <td class="float-center" align="center" valign="top">
                    <div class="center">
                        <table class="table-spacer float-center">
                            <tbody>
                            <tr>
                                <td class="table-spacer-td" style="font-size:16px;line-height:16px;">&nbsp;</td>
                            </tr>
                          </tbody>
                        </table>
                        <table align="center" class="table-container float-center">
                            <tbody>
                                <tr>
                                    <td>
                                        <!-- Main content of email -->
                                        <table class="table-spacer">
                                            <tbody>
                                            <tr>
                                                <td class="table-spacer-td" style="font-size:16px;line-height:16px;">&nbsp;</td>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <!-- Logo -->
                                        <div class="float-center" data-parsed=""> <img src="cid:logo_ocm" width="200" height="200" style="object-fit: cover; height: auto; max-width: 50%;" alt="Logo OCM"> </div>
                                        <table class="table-spacer">
                                            <tbody><tr>
                                                <td class="table-spacer-td" style="font-size:16px;line-height:16px;">&nbsp;</td>
                                            </tr></tbody>
                                        </table>
                                        <!-- Title -->
                                        <table class="table-row">
                                            <tbody>
                                            <tr>
                                                <th>
                                                    <h4 class="text-center">Night Report</h4>
                                                    <p class="text-center">{{ night }}</p>
                                                </th>
                                            </tr>
                                          </tbody>
                                        </table>
                                        <hr>
                                        <!-- First Table -->
                                        <table class="table-row">
                                            <tbody>
                                                <tr>
                                                    <th>
                                                        <table class="table-data">
                                                          <tr class="tr-data">
                                                            <th class="th-data">Telescope</th>
                                                            <th class="th-data">Downloaded Files</th>
                                                            <th class="th-data">Total FITS</th>
                                                            <th class="th-data">Processed FITS</th>
                                                            <th class="th-data">Malformed RAW</th>
                                                            <th class="th-data">Malformed ZDF</th>
                                                          </tr>
                                                          {% for telescope in telescope_data %}
                                                          <tr class="tr-data">
                                                            <td class="td-data">{{ telescope.name }}</td>
                                                            <td class="td-data">{{ telescope.downloaded_files }}</td>
                                                            <td class="td-data">{{ telescope.count_fits }}</td>
                                                            <td class="td-data">{{ telescope.count_fits_processed }}</td>
                                                            <td class="td-data">{{ telescope.malformed_raw_count }}</td>
                                                            <td class="td-data">{{ telescope.malformed_zdf_count }}</td>
                                                          </tr>
                                                          {% endfor %}
                                                        </table>
                                                    <th>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <hr>
                                        <!-- Second Table -->
                                        <table class="table-row">
                                            <tbody>
                                            <tr>
                                                <th>
                                                    <h6 class="text-center">Data Table</h6>
                                                </th>
                                            </tr>
                                                <tr>
                                                    <th>
                                                        <!-- Second table body -->
                                                        <table class="table-data">
                                                            {% for telescope in telescope_data %}

                                                            <tr class="tr-data">
                                                                <th class="th-data th-data-telescope" colspan="3" style="background-color: {{ telescope.color }}">{{ telescope.name }}</th>
                                                            </tr>
                                                            <!-- Fits type section -->
                                                            <tr class="tr-data">
                                                              <th class="th-data th-data-telescope" style="background-color: {{ telescope.color }}">Fits type</th>
                                                              <th class="th-data th-data-telescope" style="background-color: {{ telescope.color }}">#Files</th>
                                                              <th class="th-data th-data-telescope" style="background-color: {{ telescope.color }}">Filters</th>
                                                            </tr>
                                                            {% for fits_type in telescope.fits_group_type.values() %}
                                                            <tr class="tr-data">
                                                              <td class="td-data">{{ fits_type.name }}</td>
                                                              <td class="td-data">{{ fits_type.count }}</td>
                                                              <td class="td-data">{{ fits_type.filters | join(', ') }}</td>
                                                            </tr>
                                                            {% endfor %}
                                                            <!-- Fits type section -->
                                                            <tr class="tr-data">
                                                              <th class="th-data th-data-telescope" style="background-color: {{ telescope.color }}">Object</th>
                                                              <th class="th-data th-data-telescope" style="background-color: {{ telescope.color }}">#Files</th>
                                                              <th class="th-data th-data-telescope" style="background-color: {{ telescope.color }}">Filters</th>
                                                            </tr>
                                                            {% for obj in telescope.objects.values() %}
                                                            <tr class="tr-data">
                                                              <td class="td-data">{{ obj.name }}</td>
                                                              <td class="td-data">{{ obj.count }}</td>
                                                              <td class="td-data">{{ obj.filters | join(', ') }}</td>
                                                            </tr>
                                                            {% endfor %}

                                                            {% endfor %}
                                                        </table>
                                                    </th>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <!-- Footer -->
                                        <table class="row collapsed footer">
                                            <tbody><tr>
                                              <th>
                                                  <table class="table-spacer">
                                                      <tbody><tr>
                                                          <td class="table-spacer-td" style="font-size:16px;line-height:16px;">&nbsp;</td>
                                                      </tr></tbody>
                                                  </table>
                                                  <p class="text-center">@copywrite araucaria </p>
                                                  <p class="text-center footer-clause">This email was generated automatically based on data collected during the last night of observations at the Polish astronomical observatory Cerro Murphy. Please do not reply to it. If you wish to cancel your subscription, please contact one of the following people: mkalusz@camk.edu.pl | mgorski@camk.edu.pl | mkicia@camk.edu.pl | elasek@akond.com</p>

                                                  <div class="center">
                                                      <table align="center" class="float-center">
                                                          <tbody><tr>
                                                              <td>
                                                                  <table>
                                                                      <tbody><tr>
                                                                          <th class="menu-item float-center">
                                                                              <a href=""><img src="cid:logo_halina" width="300" height="250" style="object-fit: cover; height: auto; max-width: 50%;" alt="Logo HALina"></a>
                                                                          </th>
                                                                          <th class="menu-item float-center">
                                                                              <a href=""><img src="cid:logo_araucaria" width="300" height="250" style="object-fit: cover; height: auto; max-width: 50%;" alt="Logo Araucaria"></a>
                                                                          </th>
                                                                          <th class="menu-item float-center">
                                                                              <a href=""><img src="cid:logo_camk" width="300" height="250" style="object-fit: cover; height: auto; max-width: 50%;" alt="Logo CAMK PAN"></a>
                                                                          </th>
                                                                          <th class="menu-item float-center">
                                                                              <a href=""><img src="cid:logo_akond" width="300" height="250" style="object-fit: cover; height: auto; max-width: 50%;" alt="Logo Akond Lab"></a>
                                                                          </th>
                                                                      </tr>
                                                                      </tbody></table>
                                                              </td>
                                                          </tr>
                                                          </tbody></table>
                                                  </div>
                                              </th>
                                              <th class="expander"></th>
                                            </tr></tbody>
                                        </table>
                                    </td>
                                </tr>
                          </tbody>
                        </table>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>
